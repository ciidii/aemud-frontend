<div class="container">
  <app-table-header (exportTriggered)="toggleExportModal()"></app-table-header>
  <app-table-filters (openFilterPanel)="toggleFilterPanel()"></app-table-filters>

  <div *ngIf="loading$ | async" class="loading-indicator">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <app-table-body [members]="members$ | async" [loading]="loading$ | async"/>

  <app-table-footer
    (exportTriggered)="toggleExportModal()"
    (sendMessageTriggered)="toggleSendMessageModal()"
    (deleteTriggered)="toggleDeleteModal()">
  </app-table-footer>
</div>

<app-export-modal *ngIf="isExportModalOpen" (close)="toggleExportModal()"></app-export-modal>
<app-send-message-modal *ngIf="isSendMessageModalOpen" (close)="toggleSendMessageModal()"></app-send-message-modal>
<app-filter-panel [isOpen]="isFilterPanelOpen" (close)="toggleFilterPanel()"></app-filter-panel>
<app-confirm-delete-modal
  *ngIf="isDeleteModalOpen"
  [itemCount]="(selectedMembersCount$ | async) || 0"
  (close)="toggleDeleteModal()"
  (confirm)="onDeleteConfirmed()">
</app-confirm-delete-modal>
