<div [class.disabled]="isDisabled" class="multiselect-container">
  <div (click)="toggleDropdown()" class="multiselect-display">
    <span *ngIf="selectedItems.length === 0" class="placeholder">{{ placeholder }}</span>

    <span *ngFor="let item of selectedItems" class="pill">
      {{ item[displayField] }}
      <span (click)="removePill(item, $event)" class="pill-remove">&times;</span>
    </span>

    <span class="arrow-down"></span>
  </div>

  <div *ngIf="isOpen" class="dropdown-panel">
    <input
      (click)="$event.stopPropagation()"
      (ngModelChange)="onSearch()"
      [(ngModel)]="searchTerm"
      class="search-input"
      placeholder="Rechercher..."
      type="text">

    <ul class="items-list">
      <li *ngIf="filteredItems?.length === 0" class="no-results">Aucun r√©sultat</li>
      <li *ngFor="let item of filteredItems">
        <label>
          <input
            (change)="onItemSelect(item)"
            [checked]="isSelected(item)"
            type="checkbox">

          <span>{{ item[displayField] }}</span>
        </label>
      </li>
    </ul>
  </div>
</div>
