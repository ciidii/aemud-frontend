
<div class="multiselect-container" [class.disabled]="isDisabled">
  <div class="multiselect-display" (click)="toggleDropdown()">
    <span *ngIf="selectedItems.length === 0" class="placeholder">{{ placeholder }}</span>

    <span *ngFor="let item of selectedItems" class="pill">
      {{ item[displayField] }}
      <span class="pill-remove" (click)="removePill(item, $event)">&times;</span>
    </span>

    <span class="arrow-down"></span>
  </div>

  <div class="dropdown-panel" *ngIf="isOpen">
    <input
      type="text"
      class="search-input"
      placeholder="Rechercher..."
      [(ngModel)]="searchTerm"
      (ngModelChange)="onSearch()"
      (click)="$event.stopPropagation()">

    <ul class="items-list">
      <li *ngIf="filteredItems.length === 0" class="no-results">Aucun r√©sultat</li>
      <li *ngFor="let item of filteredItems">
        <label>
          <input
            type="checkbox"
            [checked]="isSelected(item)"
            (change)="onItemSelect(item)">
          <span>{{ item[displayField] }}</span>
        </label>
      </li>
    </ul>
  </div>
</div>
